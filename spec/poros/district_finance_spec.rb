require 'rails_helper'

RSpec.describe DistrictFinance do

  it 'exists' do
    data = {:count=>1,
 :next=>nil,
 :previous=>nil,
 :results=>
  [{:year=>2018,
    :fips=>11,
    :leaid=>"1100030",
    :censusid=>"09200100130100",
    :rev_total=>1526358000.0,
    :rev_fed_total=>132899000.0,
    :rev_fed_child_nutrition_act=>24182000,
    :rev_fed_state_title_i=>30682000,
    :rev_fed_state_idea=>10440000,
    :rev_fed_state_math_sci_teach=>5845000,
    :rev_fed_state_drug_free=>7060000,
    :rev_fed_state_vocational=>3658000,
    :rev_fed_state_bilingual_ed=>842000,
    :rev_fed_state_other=>18260000,
    :rev_fed_direct_impact_aid=>31930000,
    :rev_fed_direct_indian_ed=>0,
    :rev_fed_direct_other=>0,
    :rev_fed_arra=>nil,
    :rev_fed_nonspec=>0,
    :rev_state_total=>0.0,
    :rev_state_gen_formula_assist=>0.0,
    :rev_state_special_ed=>0,
    :rev_state_transportation=>0,
    :rev_state_staff_improve=>0,
    :rev_state_compens_basic_ed=>0,
    :rev_state_vocational_ed=>0,
    :rev_state_outlay_capital_debt=>0,
    :rev_state_bilingual_ed=>0,
    :rev_state_gifted_talented=>0,
    :rev_state_sch_lunch=>0,
    :rev_state_oth_prog=>0.0,
    :rev_state_employee_benefits=>0,
    :rev_state_not_employee_benefits=>0,
    :rev_state_nonspec=>0,
    :rev_local_total=>1393459000,
    :rev_local_parent_govt=>1370149000,
    :rev_local_prop_tax=>-2,
    :rev_local_sales_tax=>-2,
    :rev_local_utility_tax=>-2,
    :rev_local_income_tax=>-2,
    :rev_local_other_tax=>-2,
    :rev_local_other_sch_systems=>0,
    :rev_local_cities_counties=>0,
    :rev_local_tuition_fees=>0,
    :rev_local_transportation_fees=>0,
    :rev_local_sch_lunch=>1134000,
    :rev_local_textbook_sales_rents=>0,
    :rev_local_dist_activ_receipts=>2221000,
    :rev_local_student_fees_nonspec=>0,
    :rev_local_oth_sales_serv=>0,
    :rev_local_interest_earnings=>0,
    :rev_local_rents_royalties=>1449000,
    :rev_local_property_sale=>0,
    :rev_local_fines_forfeits=>0,
    :rev_local_private_contrib=>3707000,
    :rev_local_misc=>14799000,
    :rev_nces=>0,
    :exp_total=>1575938000,
    :exp_current_elsec_total=>1099353000,
    :exp_current_instruction_total=>537647000,
    :exp_current_supp_serve_total=>519283000,
    :exp_current_pupils=>113765000,
    :exp_current_instruc_staff=>79160000,
    :exp_current_general_admin=>71232000,
    :exp_current_sch_admin=>77142000,
    :exp_current_operation_plant=>77817000,
    :exp_current_student_transport=>62916000,
    :exp_current_bco=>37251000.0,
    :exp_current_supp_serv_nonspec=>0,
    :exp_current_other=>42423000,
    :exp_current_food_serv=>42423000,
    :exp_current_enterprise=>0,
    :exp_current_other_elsec=>0,
    :exp_nonelsec=>8889000,
    :exp_nonelsec_community_serv=>0,
    :exp_nonelsec_adult_education=>8889000,
    :exp_nonelsec_other=>0,
    :exp_current_arra=>nil,
    :exp_textbooks=>116000,
    :exp_current_state_local_funds=>859645000,
    :exp_current_federal_funds=>130015000,
    :exp_utilities_energy=>23397000,
    :exp_tech_supplies_services=>6595000,
    :exp_tech_equipment=>8178000,
    :outlay_capital_total=>404196000,
    :outlay_capital_construction=>390007000,
    :outlay_capital_land_structures=>0,
    :outlay_capital_instruc_equip=>3456000,
    :outlay_capital_other_equip=>10733000,
    :outlay_capital_nonspec_equip=>0,
    :outlay_capital_arra=>nil,
    :payments_private_schools=>63500000.0,
    :payments_charter_schools=>0.0,
    :payments_state_govt=>0,
    :payments_local_govt=>0,
    :payments_other_sch_system=>0,
    :salaries_total=>753686000,
    :salaries_instruction=>431471000,
    :salaries_teachers_regular_prog=>276750000,
    :salaries_teachers_sped=>66666000,
    :salaries_teachers_vocational=>7565000,
    :salaries_teachers_other_ed=>4450000,
    :salaries_supp_pupils=>83428000,
    :salaries_supp_instruc_staff=>56366000,
    :salaries_supp_general_admin=>22807000,
    :salaries_supp_sch_admin=>66214000,
    :salaries_supp_operation_plant=>40556000,
    :salaries_supp_stud_transport=>36678000,
    :salaries_supp_bco=>14967000.0,
    :salaries_food_service=>1199000,
    :benefits_employee_total=>148355000,
    :benefits_employee_instruction=>92032000,
    :benefits_supp_pupils=>12241000.0,
    :benefits_supp_instruc_staff=>6631000,
    :benefits_supp_general_admin=>3247000,
    :benefits_supp_sch_admin=>10352000.0,
    :benefits_supp_operation_plant=>9665000,
    :benefits_supp_stud_transport=>10806000,
    :benefits_supp_bco=>3158000.0,
    :benefits_food_service=>225000,
    :benefits_enterprise_operations=>0,
    :debt_interest=>0,
    :debt_longterm_outstand_beg_fy=>0,
    :debt_longterm_issued_fy=>0,
    :debt_longterm_retired_fy=>0,
    :debt_longterm_outstand_end_fy=>0,
    :debt_shortterm_outstand_beg_fy=>0,
    :debt_shortterm_outstand_end_fy=>0,
    :assets_sinking_fund=>0,
    :assets_bond_fund=>0,
    :assets_other=>0,
    :enrollment_fall_responsible=>49065,
    :enrollment_fall_school=>48568,
    :exp_current_resa=>0.0}]}

    district_finance = DistrictFinance.new(data)

    expect(district_finance.salaries_total).to eq(753686000)

    expect(district_finance.salaries_instruction).to eq(431471000)

    expect(district_finance.total_expenditure).to eq(1575938000)

    expect(district_finance.expenses_for_instruction).to eq(537647000)

  end

end